<%= form_with url: collections_path, method: :get, class: "d-flex" do %>
  <%= text_field_tag :query,
    params[:query],
    class: "form-control",
    placeholder: "Find a collection"
  %>
  <%= submit_tag "Search", class: "btn btn-primary" %>
<% end %>

<h1>Your Collections:</h1>


<!--
  <div class="search-bar-container">
    <div class="search-input">
      Look for a collection of thoughts...
    </div>
    <button class="button">Search</button>
  </div>
-->

  <!-- A container for all the collections -->
  <div class="collections-container">
    <% @collections.reverse.each do |collection| %>
      <!-- A container for each collection -->
      <div class="collection-container">
        <hr class="collection-line">
        <div class="collection-card-container">
          <div class="small-card">
            <% if collection.title %>
              <p class=".small-card-title"><%= collection.title %></p>
              <%= link_to '', collection_path(collection), class: 'small-card-link' %>
            <% end %>
            <% if collection.description %>
              <p class=".small-card-content"><%= collection.description %></p>
              <%= link_to '', collection_path(collection), class: 'small-card-link' %>
            <% end %>
          </div>
        </div>

        <div class="collection-thoughts-container">
          <div class="small-card">
            <% collection.thoughts.each do |thought| %>
            <p class=".small-card-title"><%= thought.title %></p>
            <p class=".small-card-content"><%= thought.content %></p>
            <% end %>
          </div>
        </div>
        <hr class="collection-line">
      </div>
    <% end %>
  </div>
</div>
