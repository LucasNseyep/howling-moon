<%#= form_with url: collections_path, method: :get, class: "d-flex" do %>
  <%#= text_field_tag :query,
    params[:query],
    class: "form-control",
    placeholder: "Find a collection"
  %>
  <%#= submit_tag "Search", class: "btn btn-primary" %>
<%# end %>

<div data-controller="search">
  <%= form_with url: collections_path, method: :get, html: {class:
    "mb-4", data: {search_target: "form"}} do |f| %>
    <%= f.text_field :query,
                     class: "form-control",
                     placeholder: "Search collections",
                     value: params[:query],
                     data: {search_target: "input",
                     action: "keyup->search#update"} %>
<% end %>

<!-- A container for the entire page -->
<div class="container page-container">
  <!-- A container for the title of the page -->
  <div class="header-container mb-5">
    <h1>Your thought collections</h1>
    <div class="search-bar align-self-center">
      <%= form_with url: thoughts_path, method: :get, class: "d-flex" do %>
        <%= text_field_tag :query,
          params[:query],
          class: "form-control",
          placeholder: "Find a collection by title"
        %>
        <%# <%= submit_tag "Search", class: "search-button" %>
        <button type="submit" class="search-button search-button-index"><i class="fa-solid fa-magnifying-glass"></i></button>
      <% end %>
    </div>
    <%= link_to 'Start a new collection', new_collection_path, class: 'button' %>
  </div>


  <!-- A container for the search bar -->
  <div search-container>
    <%= form_with url: collections_path, method: :get, class: "d-flex justify-content-center" do %>
    <%= text_field_tag :query,
        params[:query],
        class: "form-control form-control-lg w-50",
        placeholder: "Find a collection by title"
    %>
    <%= submit_tag "Search", class: "btn btn-primary" %>
    <% end %>
  </div>
  <div>
    <!-- A container for all the collections -->
    <%= render "list" %>
  </div>

</div>
